<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <title>Trib√ºnen-Ausbau Arena Nova</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #121212;
      color: #fff;
      padding: 20px;
    }
    h1 {
      text-align: center;
      margin-bottom: 10px;
    }
    .guthaben-anzeige {
      text-align: center;
      font-size: 1.2em;
      font-weight: bold;
      margin-bottom: 20px;
    }
    .config-container {
      max-width: 800px;
      margin: auto;
      background: #1e1e1e;
      border: 1px solid #444;
      border-radius: 10px;
      padding: 20px;
    }
    label {
      display: block;
      margin-top: 15px;
    }
    input[type="number"], select {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      background: #2a2a2a;
      border: 1px solid #555;
      color: #fff;
    }
    .output {
      margin-top: 30px;
      font-size: 1.2em;
      font-weight: bold;
    }
    .calculate-btn {
      margin-top: 20px;
      padding: 10px 15px;
      background: #0f0;
      color: #000;
      font-weight: bold;
      border: none;
      border-radius: 5px;
      cursor: pointer;
    }
    .calculate-btn:hover {
      background: #4f4;
    }
    .progress-bar {
      width: 100%;
      height: 20px;
      background: #444;
      border-radius: 10px;
      margin-top: 20px;
      overflow: hidden;
    }
    .progress-fill {
      height: 100%;
      width: 0%;
      background: #0f0;
      transition: width 0.3s ease-in-out;
    }
  </style>
</head>
<body>

<h1>üèüÔ∏è Arena Nova ‚Äì Trib√ºnen-Ausbau</h1>
<div class="guthaben-anzeige" id="guthaben-anzeige">Guthaben: 0 ‚Ç¨</div>
<div class="config-container">
  <label>Stehpl√§tze hinzuf√ºgen (min. 500):
    <input type="number" id="stehplaetze" min="0" step="100">
  </label>

  <label>Sitzpl√§tze hinzuf√ºgen (min. 250):
    <input type="number" id="sitzplaetze" min="0" step="50">
  </label>

  <label>Logen hinzuf√ºgen (min. 2):
    <input type="number" id="logen" min="0" step="1">
  </label>

  <label>Trib√ºnen-Umwandlung:
    <select id="umwandlung">
      <option value="keine">Keine Umwandlung</option>
      <option value="nurSteh">Alles in Stehpl√§tze umwandeln</option>
      <option value="nurSitz">Alles in Sitzpl√§tze umwandeln</option>
    </select>
  </label>

  <label>Trib√ºnen-√úberdachung:
    <select id="dach">
      <option value="keine">Keine</option>
      <option value="teil">Teil√ºberdachung (30.000 ‚Ç¨)</option>
      <option value="voll">Voll√ºberdachung (50.000 ‚Ç¨)</option>
      <option value="solar">Dach mit Solarpanels (70.000 ‚Ç¨)</option>
    </select>
  </label>

  <button class="calculate-btn" onclick="berechneKosten()">üí∂ Kosten berechnen</button>

  <div class="output" id="ausgabe">Gesamtkosten: ‚Äì</div>
  <div class="progress-bar"><div class="progress-fill" id="progress"></div></div>
</div>

<script>
function updateGuthabenAnzeige() {
  const guthaben = parseInt(localStorage.getItem('guthaben')) || 1000000;
  document.getElementById('guthaben-anzeige').innerText = `Guthaben: ${guthaben.toLocaleString()} ‚Ç¨`;
}

function berechneKosten() {
  const steh = parseInt(document.getElementById('stehplaetze').value) || 0;
  const sitz = parseInt(document.getElementById('sitzplaetze').value) || 0;
  const logen = parseInt(document.getElementById('logen').value) || 0;
  const umwandlung = document.getElementById('umwandlung').value;
  const dach = document.getElementById('dach').value;

  let kosten = 0;
  if (steh >= 500) kosten += steh * 80;
  if (sitz >= 250) kosten += sitz * 250;
  if (logen >= 2) kosten += logen * 5000;

  if (umwandlung === 'nurSteh') kosten += 100000;
  if (umwandlung === 'nurSitz') kosten += 200000;

  if (dach === 'teil') kosten += 30000;
  if (dach === 'voll') kosten += 50000;
  if (dach === 'solar') kosten += 70000;

  const ausgabe = document.getElementById('ausgabe');
  ausgabe.innerText = `Gesamtkosten: ${kosten.toLocaleString()} ‚Ç¨`;

  if (confirm(`Ausbau f√ºr ${kosten.toLocaleString()} ‚Ç¨ starten?`)) {
    starteAusbau(kosten);
  }
}

function starteAusbau(kosten) {
  let progress = 0;
  const fill = document.getElementById('progress');
  fill.style.width = '0%';

  const guthaben = parseInt(localStorage.getItem('guthaben')) || 1000000;

  if (guthaben < kosten) {
    alert('Nicht genug Guthaben!');
    return;
  }

  localStorage.setItem('guthaben', guthaben - kosten);
  updateGuthabenAnzeige();

  const interval = setInterval(() => {
    progress += 10;
    fill.style.width = progress + '%';
    if (progress >= 100) {
      clearInterval(interval);
      alert('Ausbau abgeschlossen!');
    }
  }, 300);
}

updateGuthabenAnzeige();
</script>

</body>
</html>
